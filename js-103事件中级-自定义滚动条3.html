<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style type="text/css">
    #parent {
        width: 800px;
        height: 15px;
        background: #ccc;
        position: relative;
        margin: 100px auto;
    }
    #x{
        background: red;
        position: absolute;
        height: 15px;
        width: 15px;
    }
    #div2{
    	width:500px;
    	height: 300px;
        border: 1px solid #000;
        overflow: hidden;
        position: relative;
    }
    #div3{
        position: absolute;
        left: 0;
        top: 0;
    }

    </style>
    <script type="text/javascript">
    //鼠标按下
    //鼠标抬起
    //鼠标移动
    window.onload = function() {
        //console.log(window.screen.availWidth);
        var oParent = document.getElementById('parent');
        var oX = document.getElementById('x');
        var oDiv2 = document.getElementById('div2');
        var oDiv3 = document.getElementById('div3');
        var disX = 0;
        var disY = 0;
        //alert(oX);

        oX.onmousedown = function(ev) {
            var oEvent = ev || event;
            //pos=getpos(oEvent);
            //鼠标的位置减去DIV的位置

            if (oX.setCapture) {
                disX = oEvent.clientX - oX.offsetLeft;
                oX.onmousemove = mouseMove;
                oX.onmouseup = mouseUp
                //在IE7下使用事件捕获，确保所有的事件都指向DIV
                oX.setCapture();
                return false;
            } else {
                disX = oEvent.clientX - oX.offsetLeft;
                document.onmousemove = mouseMove;
                document.onmouseup = mouseUp
                return false;
            };
        };


               function mouseMove(ev) {

                    var oEvent = ev || event;
                    var l = oEvent.clientX - disX;
                     
                     var r=oParent.offsetWidth - oX.offsetWidth;

                     if(l<0) l=0;
                     if(l>r) l=r;

                    oX.style.left = l + 'px';
                    
                    //console.log(l/(oParent.offsetWidth - oX.offsetWidth));
                    var scale=l/(oParent.offsetWidth - oX.offsetWidth);
                    
                       //oDiv2.style.height=400*scale+'px';
                       //oDiv2.style.width=400*scale+'px';
                       //oDiv2.style.filter='alpha(opacity:'+scale*100+')';
                       //oDiv2.style.opacity=scale;
                       oDiv3.style.top=-scale*(oDiv3.offsetHeight-oDiv2.offsetHeight)+'px';
 

                };

                function mouseUp() {
                    this.onmousemove = null;
                    this.onmouseup = null;
                     
                    //在使用了事件捕获之后，在鼠标抬起的时候。需要释放这个事件捕获，不然的话，无法进行任何操作
                    if (oX.releaseCapture) {
                       oX.releaseCapture();
                    };
                };



    };
    </script>
</head>

<body>
    <div id="parent">
    	<div id="x"></div>
    </div>
    <div id="div2">
        <div id="div3">
            习近平的万象时间：这九张图背后意义深远
习近平在老挝见了很特别的朋友  专题  漫评
习近平十九大之后的首次出访 有四个“特殊”
十九大精神贯彻落实报道  领航新征程
开往春天的绿皮“慢火车” 农家书屋里学十九大
老社长的故事  学思践悟十九大|做好“法官闺女”
中国当选联合国教科文组织世界遗产委员会委员国
两部委明确这笔资金用途 这些群体可享9类补贴补助
中国发射“风云三号D”卫星上，有四套“神器”
发改委：我国已成为全球最大的网上零售市场
楼市下一步走势如何？ 统计局回应三大经济热点
发改委：中国共享经济交易规模年底或将达4.5万亿
千亿美金“求爱”失败，高通为何拒绝博通？
台湾绿营人士指摘大陆惠及台胞的政策 国台办驳斥
10月空气质量排名出炉 "秋冬季改善目标"28城全部负值
北京今天正式供暖 释疑:室温标准18℃具体指哪里温度
「新时代“京”彩有你」品京城文化夜生活又添好去处
安徽30余车连环相撞 已造成18人遇难
外交部否认津巴布韦前副总统逃亡到中国
美国加州一小学附近发生枪击案 至少5人死亡
日媒：安倍称将把中日关系提高到新阶段
韩国将购买美先进武器系统 这款飞机单价超3亿美元            习近平的万象时间：这九张图背后意义深远
习近平在老挝见了很特别的朋友  专题  漫评
习近平十九大之后的首次出访 有四个“特殊”
十九大精神贯彻落实报道  领航新征程
开往春天的绿皮“慢火车” 农家书屋里学十九大
老社长的故事  学思践悟十九大|做好“法官闺女”
中国当选联合国教科文组织世界遗产委员会委员国
两部委明确这笔资金用途 这些群体可享9类补贴补助
中国发射“风云三号D”卫星上，有四套“神器”
发改委：我国已成为全球最大的网上零售市场
楼市下一步走势如何？ 统计局回应三大经济热点
发改委：中国共享经济交易规模年底或将达4.5万亿
千亿美金“求爱”失败，高通为何拒绝博通？
台湾绿营人士指摘大陆惠及台胞的政策 国台办驳斥
10月空气质量排名出炉 "秋冬季改善目标"28城全部负值
北京今天正式供暖 释疑:室温标准18℃具体指哪里温度
「新时代“京”彩有你」品京城文化夜生活又添好去处
安徽30余车连环相撞 已造成18人遇难
外交部否认津巴布韦前副总统逃亡到中国
美国加州一小学附近发生枪击案 至少5人死亡
日媒：安倍称将把中日关系提高到新阶段
韩国将购买美先进武器系统 这款飞机单价超3亿美元            习近平的万象时间：这九张图背后意义深远
习近平在老挝见了很特别的朋友  专题  漫评
习近平十九大之后的首次出访 有四个“特殊”
十九大精神贯彻落实报道  领航新征程
开往春天的绿皮“慢火车” 农家书屋里学十九大
老社长的故事  学思践悟十九大|做好“法官闺女”
中国当选联合国教科文组织世界遗产委员会委员国
两部委明确这笔资金用途 这些群体可享9类补贴补助
中国发射“风云三号D”卫星上，有四套“神器”
发改委：我国已成为全球最大的网上零售市场
楼市下一步走势如何？ 统计局回应三大经济热点
发改委：中国共享经济交易规模年底或将达4.5万亿
千亿美金“求爱”失败，高通为何拒绝博通？
台湾绿营人士指摘大陆惠及台胞的政策 国台办驳斥
10月空气质量排名出炉 "秋冬季改善目标"28城全部负值
北京今天正式供暖 释疑:室温标准18℃具体指哪里温度
「新时代“京”彩有你」品京城文化夜生活又添好去处
安徽30余车连环相撞 已造成18人遇难
外交部否认津巴布韦前副总统逃亡到中国
美国加州一小学附近发生枪击案 至少5人死亡
日媒：安倍称将把中日关系提高到新阶段
韩国将购买美先进武器系统 这款飞机单价超3亿美元            习近平的万象时间：这九张图背后意义深远
习近平在老挝见了很特别的朋友  专题  漫评
习近平十九大之后的首次出访 有四个“特殊”
十九大精神贯彻落实报道  领航新征程
开往春天的绿皮“慢火车” 农家书屋里学十九大
老社长的故事  学思践悟十九大|做好“法官闺女”
中国当选联合国教科文组织世界遗产委员会委员国
两部委明确这笔资金用途 这些群体可享9类补贴补助
中国发射“风云三号D”卫星上，有四套“神器”
发改委：我国已成为全球最大的网上零售市场
楼市下一步走势如何？ 统计局回应三大经济热点
发改委：中国共享经济交易规模年底或将达4.5万亿
千亿美金“求爱”失败，高通为何拒绝博通？
台湾绿营人士指摘大陆惠及台胞的政策 国台办驳斥
10月空气质量排名出炉 "秋冬季改善目标"28城全部负值
北京今天正式供暖 释疑:室温标准18℃具体指哪里温度
「新时代“京”彩有你」品京城文化夜生活又添好去处
安徽30余车连环相撞 已造成18人遇难
外交部否认津巴布韦前副总统逃亡到中国
美国加州一小学附近发生枪击案 至少5人死亡
日媒：安倍称将把中日关系提高到新阶段
韩国将购买美先进武器系统 这款飞机单价超3亿美元            习近平的万象时间：这九张图背后意义深远
习近平在老挝见了很特别的朋友  专题  漫评
习近平十九大之后的首次出访 有四个“特殊”
十九大精神贯彻落实报道  领航新征程
开往春天的绿皮“慢火车” 农家书屋里学十九大
老社长的故事  学思践悟十九大|做好“法官闺女”
中国当选联合国教科文组织世界遗产委员会委员国
两部委明确这笔资金用途 这些群体可享9类补贴补助
中国发射“风云三号D”卫星上，有四套“神器”
发改委：我国已成为全球最大的网上零售市场
楼市下一步走势如何？ 统计局回应三大经济热点
发改委：中国共享经济交易规模年底或将达4.5万亿
千亿美金“求爱”失败，高通为何拒绝博通？
台湾绿营人士指摘大陆惠及台胞的政策 国台办驳斥
10月空气质量排名出炉 "秋冬季改善目标"28城全部负值
北京今天正式供暖 释疑:室温标准18℃具体指哪里温度
「新时代“京”彩有你」品京城文化夜生活又添好去处
安徽30余车连环相撞 已造成18人遇难
外交部否认津巴布韦前副总统逃亡到中国
美国加州一小学附近发生枪击案 至少5人死亡
日媒：安倍称将把中日关系提高到新阶段
韩国将购买美先进武器系统 这款飞机单价超3亿美元
        </div>
    </div>
</body>

</html>